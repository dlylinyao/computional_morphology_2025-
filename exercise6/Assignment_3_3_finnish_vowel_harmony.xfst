clear stack
read lexc /users/linyaodu/lda-t302/exercise6/Assignment_6_2_finnish_vowel_harmony.lexc
define Lexicon ;
regex Lexicon ;

define BackVowel    [ a | o | u ] ;
define FrontVowelOrBoundary   [ ä | ö | y | %^ ] ;

define SetBackVowel A -> a, O -> o || BackVowel ~$FrontVowelOrBoundary _ ;
define SetFrontVowel A -> ä, O -> ö || _ ;

define RemoveBoundaries %^ -> 0 ;

define LexiconWithRules Lexicon .o. SetBackVowel .o. SetFrontVowel .o. RemoveBoundaries ;
regex LexiconWithRules ;
